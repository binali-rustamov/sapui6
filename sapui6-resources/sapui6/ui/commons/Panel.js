jQuery.sap.declare("sapui6.ui.commons.Panel"),jQuery.sap.require("sap.ui.core.Control"),sap.ui.core.Control.extend("sapui6.ui.commons.Panel",{metadata:{library:"sapui6.ui.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"400px"},margin:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},marginLeft:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},marginRight:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},marginTop:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},marginBottom:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},iconHoverColor:{type:"sap.ui.core.CSSColor",group:"Misc",defaultValue:null},headerBackgroundColor:{type:"sap.ui.core.CSSColor",group:"Misc",defaultValue:null},borderRadius:{type:"sap.ui.core.CSSSize",defaultValue:"0px"},borderColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},title:{type:"string",defaultValue:""},titleColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},titleFontSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},visible:{type:"boolean",defaultValue:!0},scroll:{type:"boolean",defaultValue:!0},collapsed:{type:"boolean",defaultValue:!0},expandIcon:{type:"string",group:"Misc",defaultValue:"sap-icon://slim-arrow-down"},collapseIcon:{type:"string",group:"Misc",defaultValue:"sap-icon://slim-arrow-up"},resize:{type:"boolean",defaultValue:!0}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:!0,singularName:"content"},icon:{type:"sap.ui.core.Icon",multiple:!0,singularName:"icon"}}},_collapseIconId:null,onBeforeRendering:function(){jQuery.sap.require("sap.ui.core.theming.Parameters"),this.getTitleColor()||this.setProperty("titleColor",sap.ui.core.theming.Parameters.get("sapUiBaseText"),!0),this.getTitleFontSize()||this.setProperty("titleFontSize",sap.ui.core.theming.Parameters.get("sapUiFontHeader4Size"),!0),this.getBorderColor()||this.setProperty("borderColor",sap.ui.core.theming.Parameters.get("sapUiMediumBorder"),!0),this.getHeaderBackgroundColor()||this.setProperty("headerBackgroundColor",sap.ui.core.theming.Parameters.get("sapUiBaseBG"),!0),this.getIconHoverColor()||this.setProperty("iconHoverColor",sap.ui.core.theming.Parameters.get("sapUiActive"),!0)},renderer:function(e,t){if(t.getVisible()){if(e.write("<div"),e.writeControlData(t),e.addStyle("width",t.getWidth()),t.getMargin()&&e.addStyle("margin",t.getMargin()),t.getMarginLeft()&&e.addStyle("margin-left",t.getMarginLeft()),t.getMarginRight()&&e.addStyle("margin-right",t.getMarginRight()),t.getMarginTop()&&e.addStyle("margin-top",t.getMarginTop()),t.getMarginBottom()&&e.addStyle("margin-bottom",t.getMarginBottom()),e.addStyle("border-color",t.getBorderColor()),e.addStyle("border-radius",t.getBorderRadius()),e.writeStyles(),e.addClass("sapui6_panel"),e.writeClasses(),e.write(">"),e.write("<div"),e.addStyle("background-color",t.getHeaderBackgroundColor()),e.addStyle("color",t.getTitleColor()),e.addStyle("border-color",t.getBorderColor()),e.writeStyles(),e.addClass("heading"),e.writeClasses(),e.write(">"),t.getCollapsed()||"object"==typeof t.getIcon()){if(e.write("<span"),e.addClass("btn-right"),e.writeClasses(),e.write(">"),t.getIcon().forEach(function(i,r){e.write("<span style='margin-right:10px;'>"),t.getIconHoverColor()&&i.setHoverColor(t.getIconHoverColor()),e.renderControl(i),e.write("</span>")}),t.getCollapsed()){var i=new sap.ui.core.Icon({src:t.getCollapseIcon(),press:t.collapse.bind(t)});t._collapseIconId=i.getId(),t.getIconHoverColor()&&i.setHoverColor(t.getIconHoverColor()),e.renderControl(i)}e.write("</span>")}e.write(t.getTitle()),e.write("</div>"),e.write('<div id="'+t.getId()+'-panel-content"'),e.addClass("body"),e.writeClasses(),e.addStyle("height",t.getHeight().split("px")[0]-75+"px"),t.getScroll()&&(e.addStyle("overflow","auto"),e.addStyle("-webkit-overflow-scrolling","touch")),e.writeStyles(),e.write(">"),t.getContent().forEach(function(t,i){e.renderControl(t)}),e.write("</div>"),e.write("</div>")}},onAfterRendering:function(){var e=$("#"+this.getId()),t=e.parent().width();if(e.outerWidth()>=t){var i=0;this.getMarginLeft()||this.getMarginRight()?(this.getMarginLeft()&&(i+=parseInt(this.getMarginLeft().split("px")[0])),this.getMarginRight()&&(i+=parseInt(this.getMarginRight().split("px")[0]))):this.getMargin()&&(i=2*parseInt(this.getMargin().split("px")[0])),$("#"+this.getId()).css("width",String(t-i)+"px")}if(this.getResize()){var r=parseFloat($("#"+this.getId()).outerWidth()/$(window).width()),o=this;$(window).resize(function(){jQuery.sap.delayedCall(50,o,function(){o.resizeLayout(r)})})}}}),sapui6.ui.commons.Panel.prototype.resizeLayout=function(e){if($("#"+this.getId()).css("width",String(parseInt($(window).width()*e))+"px"),obj.outerWidth()>=parentWidth){var t=0;this.getMarginLeft()||this.getMarginRight()?(this.getMarginLeft()&&(t+=parseInt(this.getMarginLeft().split("px")[0])),this.getMarginRight()&&(t+=parseInt(this.getMarginRight().split("px")[0]))):this.getMargin()&&(t=2*parseInt(this.getMargin().split("px")[0])),$("#"+this.getId()).css("width",String(parentWidth-t)+"px")}},sapui6.ui.commons.Panel.prototype.collapse=function(){var e=$("#"+this.getId()+"-panel-content");if("block"==e.css("display")){sap.ui.getCore().byId(this._collapseIconId).setSrc(this.getExpandIcon());var t=window.setInterval(function(){if("0px"==e.css("height"))window.clearInterval(t),e.css("display","none");else{parseInt(e.css("height").replace("px",""));0>e-30?e.css("height","0px"):e.css("height",parseInt(e.css("height").replace("px",""))-30+"px")}},10)}else{sap.ui.getCore().byId(this._collapseIconId).setSrc(this.getCollapseIcon()),e.css("display","block");var i=this.getHeight().split("px")[0]-75+"px",t=window.setInterval(function(){if(e.css("height")==i)window.clearInterval(t);else{var r=parseInt(e.css("height").replace("px",""));r+30>parseInt(i.replace("px",""))?e.css("height",i):e.css("height",parseInt(e.css("height").replace("px",""))+30+"px")}},10)}};