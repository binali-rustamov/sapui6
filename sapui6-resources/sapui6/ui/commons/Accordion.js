jQuery.sap.declare("sapui6.ui.commons.Accordion"),jQuery.sap.require("sap.ui.core.Control"),sap.ui.core.Control.extend("sapui6.ui.commons.Accordion",{metadata:{library:"sapui6.ui.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"400px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},margin:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"5px"},visible:{type:"boolean",defaultValue:!0},scroll:{type:"boolean",defaultValue:!0},headerBackgroundColor:{type:"sap.ui.core.CSSColor",group:"Misc",defaultValue:null},borderRadius:{type:"sap.ui.core.CSSSize",defaultValue:"0px"},borderColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},title:{type:"string",defaultValue:""},titleColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},titleFontSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},expandIcon:{type:"string",group:"Misc",defaultValue:"sap-icon://slim-arrow-down"},collapseIcon:{type:"string",group:"Misc",defaultValue:"sap-icon://slim-arrow-up"},openedSectionsId:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sapui6.ui.commons.AccordionSection",multiple:!0,singularName:"section"}}},onBeforeRendering:function(){jQuery.sap.require("sap.ui.core.theming.Parameters"),this.getTitleColor()||this.setProperty("titleColor",sap.ui.core.theming.Parameters.get("sapUiBaseText"),!0),this.getTitleFontSize()||this.setProperty("titleFontSize",sap.ui.core.theming.Parameters.get("sapUiFontHeader4Size"),!0),this.getBorderColor()||this.setProperty("borderColor",sap.ui.core.theming.Parameters.get("sapUiMediumBorder"),!0),this.getHeaderBackgroundColor()||this.setProperty("headerBackgroundColor",sap.ui.core.theming.Parameters.get("sapUiBaseBG"),!0)},renderer:function(e,t){if(t.getVisible()){e.write("<div"),e.writeControlData(t),e.addStyle("width",t.getWidth()),t.getHeight()&&e.addStyle("height",t.getHeight()),e.addStyle("margin",t.getMargin()),e.writeStyles(),e.addClass("sapui6_accordion"),e.writeClasses(),e.write(">");var i=t.getId(),o=t.getSections();o.forEach(function(o,r){e.write("<div"),e.addStyle("border-color",t.getBorderColor()),e.writeStyles(),e.addClass("section"),e.writeClasses(),e.write(">"),e.write('<div id="'+i+"-section-header-"+r+'" onclick="javascript:sap.ui.getCore().byId(\''+i+"').accordion(this);\""),e.addStyle("border-color",t.getBorderColor()),e.addStyle("color",t.getTitleColor()),e.addStyle("font-size",t.getTitleFontSize()),e.addStyle("background-color",t.getHeaderBackgroundColor()),e.writeStyles(),e.addClass("heading"),e.writeClasses(),e.write(">"),""!=t.getOpenedSectionsId()?t.getOpenedSectionsId()==o.getId()?e.renderControl(new sap.ui.core.Icon(i+"-section-icon-"+r,{src:t.getCollapseIcon()})):e.renderControl(new sap.ui.core.Icon(i+"-section-icon-"+r,{src:t.getExpandIcon()})):o.getExpand()?(t.setProperty("openedSectionsId",o.getId(),!0),e.renderControl(new sap.ui.core.Icon(i+"-section-icon-"+r,{src:t.getCollapseIcon()}))):e.renderControl(new sap.ui.core.Icon(i+"-section-icon-"+r,{src:t.getExpandIcon()})),e.write('<span class="title">'),e.write(o.getTitle()),e.write("</span>"),e.write("</div>"),e.write('<div id="'+i+"-section-content-"+r+'"'),""!=t.getOpenedSectionsId()?t.getOpenedSectionsId()==o.getId()?(e.addStyle("height",o.getHeight()),e.addStyle("display","block")):(e.addStyle("height","0px"),e.addStyle("display","none")):o.getExpand()?(e.addStyle("height",o.getHeight()),e.addStyle("display","block")):(e.addStyle("height","0px"),e.addStyle("display","none")),t.getScroll()&&(e.addStyle("overflow","auto"),e.addStyle("-webkit-overflow-scrolling","touch")),e.writeStyles(),e.write(">"),e.write('<div class="body">'),o.getContent().forEach(function(t){e.renderControl(t)}),e.write("</div>"),e.write("</div>"),e.write("</div>")}),e.write("</div>")}}}),sapui6.ui.commons.Accordion.prototype.accordion=function(e){for(var t=e.id.replace("-section-header-","-section-content-"),i=this.getSections().length,o=0;i>o;o++){var r=this.getSections()[o];if(t==this.getId()+"-section-content-"+o){var a=$("#"+this.getId()+"-section-content-"+o);if("block"==a.css("display")){sap.ui.getCore().byId(this.getId()+"-section-icon-"+o).setSrc(this.getExpandIcon());var s=window.setInterval(function(){if("0px"==a.css("height"))window.clearInterval(s),a.css("display","none");else{var e=parseInt(a.css("height").replace("px",""));0>e-30?a.css("height","0px"):a.css("height",parseInt(a.css("height").replace("px",""))-30+"px")}},10)}else{sap.ui.getCore().byId(this.getId()+"-section-icon-"+o).setSrc(this.getCollapseIcon()),a.css("display","block"),this.setProperty("openedSectionsId",r.getId(),!0);var s=window.setInterval(function(){if(a.css("height")==r.getHeight())window.clearInterval(s);else{var e=parseInt(a.css("height").replace("px",""));e+30>parseInt(r.getHeight().replace("px",""))?a.css("height",r.getHeight()):a.css("height",parseInt(a.css("height").replace("px",""))+30+"px")}},10)}}else{sap.ui.getCore().byId(this.getId()+"-section-icon-"+o).setSrc(this.getExpandIcon());var n=$("#"+this.getId()+"-section-content-"+o);n.css("display","none"),n.css("height","0px")}}},jQuery.sap.declare("sapui6.ui.commons.AccordionSection"),jQuery.sap.require("sap.ui.core.Element"),sap.ui.core.Element.extend("sapui6.ui.commons.AccordionSection",{metadata:{library:"sapui6.ui.commons",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"200px"},enabled:{type:"boolean",group:"Behavior",defaultValue:!0},expand:{type:"boolean",group:"Behavior",defaultValue:!1},title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:!0,singularName:"content"}}}});