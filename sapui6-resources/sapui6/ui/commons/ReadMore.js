jQuery.sap.declare("sapui6.ui.commons.ReadMore"),jQuery.sap.require("sap.ui.core.Control"),sap.ui.core.Control.extend("sapui6.ui.commons.ReadMore",{metadata:{library:"sapui6.ui.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"400px"},margin:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"0px"},scroll:{type:"boolean",defaultValue:!1},text:{type:"string",defaultValue:"READ MORE"},color:{type:"string",defaultValue:null},visible:{type:"boolean",defaultValue:!0}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:!0,singularName:"content"},icon:{type:"sap.ui.core.Icon",multiple:!0,singularName:"icon"},button:{type:"sap.ui.commons.Button",multiple:!1}}},href:null,renderer:function(e,t){if(t.getVisible()){if(e.write("<div"),e.writeControlData(t),e.addStyle("width",t.getWidth()),e.addStyle("margin",t.getMargin()),e.writeStyles(),e.addClass("sapui6_readmore"),e.writeClasses(),e.write(">"),e.write("<div"),e.addClass("heading"),e.writeClasses(),e.write(">"),e.write("<span"),e.addClass("btn-right"),e.writeClasses(),e.write(">"),t.getButton()){var i=t.getButton();i.attachPress(t.collapse.bind(t)),e.renderControl(t.getButton())}else{var a=new sap.ui.commons.Link({text:t.getText()});t.href?a.attachPress(t.href):a.attachPress(t.collapse.bind(t)),e.renderControl(a)}e.write("</span>"),e.write("</div>"),"object"==typeof t.getContent()&&(e.write('<div id="'+t.getId()+'-readmore-content"'),e.addClass("body"),e.writeClasses(),e.addStyle("height","0px"),e.addStyle("display","none"),t.getScroll()&&(e.addStyle("overflow","auto"),e.addStyle("-webkit-overflow-scrolling","touch")),e.writeStyles(),e.write(">"),t.getContent().forEach(function(t,i){e.renderControl(t)}),e.write("</div>"),e.write("</div>"))}}}),sapui6.ui.commons.ReadMore.prototype.setHref=function(e){"function"==typeof e&&(this.href=e)},sapui6.ui.commons.ReadMore.prototype.collapse=function(e){if("object"==typeof this.getContent()){var t=$("#"+this.getId()+"-readmore-content");if("block"==t.css("display"))var i=window.setInterval(function(){if("0px"==t.css("height"))window.clearInterval(i),t.css("display","none");else{parseInt(t.css("height").replace("px",""));0>t-30?t.css("height","0px"):t.css("height",parseInt(t.css("height").replace("px",""))-30+"px")}},10);else{t.css("display","block");var a=this.getHeight(),i=window.setInterval(function(){if(t.css("height")==a)window.clearInterval(i);else{var e=parseInt(t.css("height").replace("px",""));e+30>parseInt(a.replace("px",""))?t.css("height",a):t.css("height",parseInt(t.css("height").replace("px",""))+30+"px")}},10)}}};