jQuery.sap.declare("sapui6.ui.commons.NumberFormatView"),sap.ui.commons.TextView.extend("sapui6.ui.commons.NumberFormatView",{library:"sapui6.ui.commons",metadata:{properties:{format:{type:"string",defaultValue:null},before:{type:"string",defaultValue:null},after:{type:"string",defaultValue:null}}},renderer:{},onAfterRendering:function(){this.getBefore()&&$(this.getDomRef()).before('<span style="vertical-align:middle;">'+this.getBefore()+"</span>"),this.getAfter()&&$(this.getDomRef()).after('<span style="vertical-align:middle;">'+this.getAfter()+"</span>")}}),sapui6.ui.commons.NumberFormatView.prototype.bindText=function(t){this.bindProperty("text",{path:t,type:this.getType()})},sapui6.ui.commons.NumberFormatView.prototype.getType=function(){var t=!1,e=",",i=".",r=0,n=0,a=0,o=0,s=this.getFormat();if(s.indexOf(",")>-1)if(t=!0,s.indexOf(".")>-1)if(s.indexOf(",")<s.indexOf(".")){e=",",i=".";var u=s.split(".")[0],l=s.split(".")[1];r=this._countChar(u,"0"),n=u.length,a=this._countChar(l,"0"),o=l.length}else{e=".",i=",";var u=s.split(",")[0],l=s.split(",")[1];r=this._countChar(u,"0"),n=u.length,a=this._countChar(l,"0"),o=l.length}else e=",",r=this._countChar(s,"0"),n=s.length;else if(s.indexOf(".")>-1){t=!1;var u=s.split(".")[0],l=s.split(".")[1];r=this._countChar(u,"0"),n=u.length,a=this._countChar(l,"0"),o=l.length}else t=!1,r=this._countChar(s,"0"),n=s.length;var p=new sap.ui.model.type.Float({minIntegerDigits:r,minFractionDigits:a,maxFractionDigits:o,groupingEnabled:t,groupingSeparator:e,decimalSeparator:i});return p},sapui6.ui.commons.NumberFormatView.prototype._countChar=function(t,e){for(var i=0,r=t.length,n=0;r>n;n++)t.charAt(n)==e&&i++;return i};