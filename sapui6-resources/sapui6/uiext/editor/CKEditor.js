jQuery.sap.declare("sapui6.uiext.editor.CKEditor"),sap.ui.core.Control.extend("sapui6.uiext.editor.CKEditor",{metadata:{library:"sapui6.uiext.editor",properties:{value:{type:"string",group:"Data",bindable:"bindable",defaultValue:""},visible:{type:"boolean",defaultValue:!0},cols:{type:"string",defaultValue:"80"},rows:{type:"string",defaultValue:"10"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"400px"},uiColor:{type:"string",defaultValue:""},language:{type:"string",defaultValue:"en"},editable:{type:"boolean",defaultValue:!0},inline:{type:"boolean",defaultValue:!1}}},toolbar:[{name:"document",groups:["mode","document","doctools"],items:["Source","-","Save","NewPage","Preview","Print","-","Templates"]},{name:"clipboard",groups:["clipboard","undo"],items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",groups:["find","selection","spellchecker"],items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"forms",items:["Form","Checkbox","Radio","TextField","Textarea","Select","Button","ImageButton","HiddenField"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Flash","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]},{name:"others",items:["-"]},{name:"about",items:["About"]}],toolbarGroup:[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}],editor:null,renderer:function(t,e){e.getVisible()&&void 0==CKEDITOR.instances[e.getId()]&&(t.write("<textarea"),t.writeControlData(e),t.addStyle("width",e.getWidth()),t.addStyle("height",e.getHeight()),t.writeStyles(),t.writeAttribute("cols",e.getCols()),t.writeAttribute("rows",e.getRows()),e.getInline()&&t.writeAttribute("name",e.getId()+"-name"),t.write(e.getValue()),t.write(">"),t.write("</textarea>"))},onAfterRendering:function(){this.getVisible()&&(void 0==CKEDITOR.instances[this.getId()]?(this.getInline()?this.editor=CKEDITOR.inline(this.getId()+"-name",this.getConfiguration()):this.editor=CKEDITOR.replace(this.getId(),this.getConfiguration()),this.editor.setData(this.getValue()),this.editor.on("change",jQuery.proxy(this.handleChange,this)),this.editor.on("blur",jQuery.proxy(this.handleChange,this))):CKEDITOR.instances[this.getId()].setData(this.getValue()))}}),sapui6.uiext.editor.CKEditor.prototype.handleChange=function(){var t=this.editor.getData();this.getValue()!=t&&this.setProperty("value",t,!0)},sapui6.uiext.editor.CKEditor.prototype.getConfiguration=function(){var t={};return t.toolbar=this.getToolbar(),t.toolbarGroups=this.getToolbarGroup(),t.disableNativeSpellChecker=!1,t.uiColor=this.getUiColor(),t.height=this.getHeight(),t.width=this.getWidth(),t.language=this.getLanguage(),t.readOnly=!this.getEditable(),t.toolbarStartupExpanded=!0,t.browserContextMenuOnCtrl=!0,t},sapui6.uiext.editor.CKEditor.prototype.setToolbar=function(t){this.toolbar=t},sapui6.uiext.editor.CKEditor.prototype.getToolbar=function(){return this.toolbar},sapui6.uiext.editor.CKEditor.prototype.setToolbarGroup=function(t){this.toolbarGroup=t},sapui6.uiext.editor.CKEditor.prototype.getToolbarGroup=function(){return this.toolbarGroup},sapui6.uiext.editor.CKEditor.prototype.insertHtml=function(t){this.editor.insertHtml(t),this.setValue(this.editor.getData())},sapui6.uiext.editor.CKEditor.prototype.insertText=function(t){this.editor.insertText(t),this.setValue(this.editor.getData())},sapui6.uiext.editor.CKEditor.prototype.getData=function(){return this.editor.getData()},sapui6.uiext.editor.CKEditor.prototype.setData=function(t){this.editor.setData(t),this.setValue(t)},sapui6.uiext.editor.CKEditor.prototype.focus=function(){CKEDITOR.instances[this.getId()].focus()},sapui6.uiext.editor.CKEditor.prototype.setValue=function(t){this.setProperty("value",t,!0)};